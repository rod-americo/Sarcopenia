<!DOCTYPE html>
<!--
  Copyright (c) 2026 Rodrigo Americo

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heimdallr Strategy Board</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --bg: #070c16;
            --bg-soft: #101a2d;
            --bg-card: #121f36;
            --bg-hover: #1a2a45;
            --text: #e8f0ff;
            --muted: #9eb0ca;
            --accent: #39d0ff;
            --accent-2: #8aa4ff;
            --good: #29c98a;
            --mid: #f3a952;
            --hard: #f56c7c;
            --line: rgba(126, 157, 210, 0.25);
            --radius: 14px;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: "Inter", "Segoe UI", sans-serif;
            color: var(--text);
            background:
                radial-gradient(circle at 15% 20%, rgba(57, 208, 255, 0.15), transparent 30%),
                radial-gradient(circle at 85% 80%, rgba(138, 164, 255, 0.10), transparent 30%),
                var(--bg);
            min-height: 100vh;
        }

        .wrap {
            max-width: 1280px;
            margin: 0 auto;
            padding: 28px 20px 60px;
        }

        .hero {
            border: 1px solid var(--line);
            border-radius: var(--radius);
            padding: 22px;
            background: linear-gradient(140deg, rgba(18, 31, 54, 0.9), rgba(10, 18, 32, 0.95));
            margin-bottom: 22px;
        }

        h1 {
            margin: 0 0 8px;
            font-size: clamp(1.5rem, 2vw, 2.2rem);
        }

        .sub {
            margin: 0;
            color: var(--muted);
        }

        .grid {
            display: grid;
            grid-template-columns: 1.5fr 1fr;
            gap: 18px;
            margin-bottom: 20px;
        }

        .panel {
            background: var(--bg-soft);
            border: 1px solid var(--line);
            border-radius: var(--radius);
            padding: 16px;
        }

        .panel h2 {
            margin: 0 0 12px;
            font-size: 1.05rem;
        }

        .chart-box {
            position: relative;
            min-height: 320px;
        }

        .legend {
            display: grid;
            gap: 8px;
            margin-top: 14px;
            color: var(--muted);
            font-size: 0.9rem;
        }

        .legend span {
            display: inline-flex;
            width: 10px;
            height: 10px;
            border-radius: 999px;
            margin-right: 8px;
        }

        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 14px;
        }

        button {
            background: #13223b;
            color: var(--text);
            border: 1px solid var(--line);
            border-radius: 999px;
            padding: 8px 12px;
            font-weight: 600;
            cursor: pointer;
        }

        button.active {
            border-color: var(--accent);
            box-shadow: 0 0 0 2px rgba(57, 208, 255, 0.2);
        }

        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 12px;
        }

        .card {
            background: var(--bg-card);
            border: 1px solid var(--line);
            border-radius: 12px;
            padding: 12px;
            transition: background 0.2s ease, border-color 0.2s ease;
        }

        .card:hover {
            background: var(--bg-hover);
            border-color: rgba(57, 208, 255, 0.45);
        }

        .card h3 {
            margin: 0 0 6px;
            font-size: 1rem;
        }

        .meta {
            display: flex;
            gap: 8px;
            font-size: 0.82rem;
            color: var(--muted);
            margin-bottom: 8px;
        }

        .pill {
            display: inline-block;
            font-size: 0.75rem;
            font-weight: 700;
            padding: 4px 8px;
            border-radius: 999px;
            margin-bottom: 8px;
        }

        .pill.foundation { background: rgba(41, 201, 138, 0.15); color: #8ef0c2; }
        .pill.acceleration { background: rgba(243, 169, 82, 0.15); color: #ffd39f; }
        .pill.scaling { background: rgba(138, 164, 255, 0.2); color: #c7d4ff; }
        .pill.innovation { background: rgba(245, 108, 124, 0.18); color: #ffc0c7; }

        .small {
            color: var(--muted);
            font-size: 0.86rem;
            margin: 0;
        }

        @media (max-width: 960px) {
            .grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <div class="wrap">
        <header class="hero">
            <h1>Heimdallr Radiology Pipeline Strategy</h1>
            <p class="sub">Impact vs implementation friction for upcoming modules across logistics, triage, reporting, de-identification, and patient navigation.</p>
        </header>

        <section class="grid">
            <article class="panel">
                <h2>Priority Matrix</h2>
                <div class="chart-box">
                    <canvas id="priorityChart"></canvas>
                </div>
                <div class="legend">
                    <div><span style="background: var(--good);"></span>Low friction / quick wins</div>
                    <div><span style="background: var(--mid);"></span>Medium complexity / phased delivery</div>
                    <div><span style="background: var(--hard);"></span>High complexity / governance-heavy</div>
                </div>
            </article>

            <article class="panel">
                <h2>Focus Split</h2>
                <div class="chart-box" style="min-height: 260px;">
                    <canvas id="focusChart"></canvas>
                </div>
                <p class="small">Balanced investment keeps operations stable while advancing high-impact clinical AI capabilities.</p>
            </article>
        </section>

        <section class="panel">
            <h2>Module Explorer</h2>
            <div class="filters">
                <button class="active" data-filter="all">All</button>
                <button data-filter="ops">Operations</button>
                <button data-filter="clinical">Clinical AI</button>
                <button data-filter="governance">Governance</button>
                <button data-filter="continuity">Care Continuity</button>
            </div>
            <div id="cards" class="cards"></div>
        </section>
    </div>

    <script>
        const modules = [
            { id: 1, title: 'HL7-Triggered Smart Prefetch', track: 'ops', horizon: 'foundation', impact: 9, friction: 4, note: 'Route relevant priors from ADT/ORM events using study similarity scoring.' },
            { id: 2, title: 'Unified Worklist Orchestrator', track: 'ops', horizon: 'foundation', impact: 9, friction: 5, note: 'Fair case assignment by subspecialty, workload, and SLA risk.' },
            { id: 3, title: 'Urgency Flagging and Reordering', track: 'clinical', horizon: 'acceleration', impact: 10, friction: 8, note: 'Reprioritize suspected critical findings with auditable confidence thresholds.' },
            { id: 4, title: 'Opportunistic Liver/Bone Quant', track: 'clinical', horizon: 'acceleration', impact: 8, friction: 6, note: 'Extract steatosis and osteoporosis signals from routine CT scans.' },
            { id: 5, title: 'Structured Report Copilot', track: 'clinical', horizon: 'acceleration', impact: 8, friction: 6, note: 'Template-bound drafting from findings + quantitative metrics.' },
            { id: 6, title: 'De-identification Gateway', track: 'governance', horizon: 'scaling', impact: 10, friction: 7, note: 'Pixel + metadata PHI stripping before any external model call.' },
            { id: 7, title: 'Patient Follow-up Navigator', track: 'continuity', horizon: 'scaling', impact: 9, friction: 5, note: 'Extract follow-up recommendations and orchestrate reminders/escalations.' },
            { id: 8, title: 'Agentic Workflow Coordinator', track: 'clinical', horizon: 'innovation', impact: 10, friction: 9, note: 'Multi-step assistants for triage, reporting, and handoff execution.' }
        ];

        const trackName = {
            ops: 'Operations',
            clinical: 'Clinical AI',
            governance: 'Governance',
            continuity: 'Care Continuity'
        };

        const cards = document.getElementById('cards');
        const filterButtons = [...document.querySelectorAll('button[data-filter]')];

        function frictionColor(v) {
            if (v <= 4) return 'var(--good)';
            if (v <= 7) return 'var(--mid)';
            return 'var(--hard)';
        }

        function renderCards(filter = 'all') {
            cards.innerHTML = '';
            const list = filter === 'all' ? modules : modules.filter((m) => m.track === filter);
            list.forEach((m) => {
                const el = document.createElement('article');
                el.className = 'card';
                el.innerHTML = `
                    <span class="pill ${m.horizon}">${m.horizon}</span>
                    <h3>${m.title}</h3>
                    <div class="meta">
                        <span>${trackName[m.track]}</span>
                        <span>Impact ${m.impact}/10</span>
                        <span style="color:${frictionColor(m.friction)}">Friction ${m.friction}/10</span>
                    </div>
                    <p class="small">${m.note}</p>
                `;
                cards.appendChild(el);
            });
        }

        filterButtons.forEach((btn) => {
            btn.addEventListener('click', () => {
                filterButtons.forEach((b) => b.classList.remove('active'));
                btn.classList.add('active');
                renderCards(btn.dataset.filter);
            });
        });

        const priorityChart = new Chart(document.getElementById('priorityChart'), {
            type: 'bubble',
            data: {
                datasets: [{
                    data: modules.map((m) => ({ x: m.friction, y: m.impact, r: 10, title: m.title })),
                    backgroundColor: modules.map((m) => {
                        if (m.friction <= 4) return 'rgba(41, 201, 138, 0.7)';
                        if (m.friction <= 7) return 'rgba(243, 169, 82, 0.7)';
                        return 'rgba(245, 108, 124, 0.75)';
                    }),
                    borderColor: 'rgba(255,255,255,0.45)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: (ctx) => `${ctx.raw.title} | Impact ${ctx.raw.y} | Friction ${ctx.raw.x}`
                        }
                    }
                },
                scales: {
                    x: {
                        min: 0,
                        max: 10,
                        title: { display: true, text: 'Implementation Friction', color: '#b8c9e2' },
                        ticks: { color: '#9eb0ca' },
                        grid: { color: 'rgba(126,157,210,0.18)' }
                    },
                    y: {
                        min: 0,
                        max: 10,
                        title: { display: true, text: 'Clinical/Operational Impact', color: '#b8c9e2' },
                        ticks: { color: '#9eb0ca' },
                        grid: { color: 'rgba(126,157,210,0.18)' }
                    }
                }
            }
        });

        const focusBreakdown = modules.reduce((acc, m) => {
            acc[m.track] = (acc[m.track] || 0) + 1;
            return acc;
        }, {});

        const focusChart = new Chart(document.getElementById('focusChart'), {
            type: 'doughnut',
            data: {
                labels: Object.keys(focusBreakdown).map((k) => trackName[k]),
                datasets: [{
                    data: Object.values(focusBreakdown),
                    backgroundColor: ['#39d0ff', '#8aa4ff', '#f3a952', '#29c98a'],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { labels: { color: '#c5d4eb' } }
                }
            }
        });

        renderCards();
    </script>
</body>

</html>
